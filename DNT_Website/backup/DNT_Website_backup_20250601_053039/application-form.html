<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Application Form - DigitalNomadsTaiwan</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;500;600;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'brand-red': '#DC2626',
                        'brand-blue': '#2563EB',
                    },
                    fontFamily: {
                        'sans': ['Inter', 'system-ui', 'sans-serif'],
                        'chinese': ['Noto Sans TC', 'PingFang TC', 'Hiragino Sans GB', 'Microsoft YaHei', 'sans-serif'],
                    },
                    borderRadius: {
                        'brand': '12px',
                        'brand-lg': '16px',
                    },
                    boxShadow: {
                        'soft': '0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)',
                        'brand': '0 10px 25px -3px rgba(220, 38, 38, 0.1), 0 4px 6px -2px rgba(220, 38, 38, 0.05)',
                    },
                }
            }
        }
    </script>
    <style>
        .english-text { font-family: 'Inter', system-ui, sans-serif; }
        .chinese-text { font-family: 'Noto Sans TC', 'PingFang TC', 'Hiragino Sans GB', 'Microsoft YaHei', 'sans-serif'; }
        
        .nav-link {
            @apply relative px-4 py-2 text-neutral-600 hover:text-brand-red font-medium transition-all duration-300;
        }
        .nav-link::before {
            content: '';
            @apply absolute bottom-0 left-0 w-0 h-0.5 bg-brand-red transition-all duration-300;
        }
        .nav-link:hover::before {
            @apply w-full;
        }
        
        body { font-family: 'Inter', sans-serif; }
        .brand-red { color: #DC2626; }
        .brand-red-bg { background-color: #DC2626; }
        .step-indicator { transition: all 0.3s ease; }
        .step-active { background-color: #DC2626; color: white; }
        .step-completed { background-color: #10B981; color: white; }
        .step-inactive { background-color: #E5E7EB; color: #6B7280; }
    </style>
</head>
<body class="font-sans antialiased bg-gradient-to-br from-neutral-50 via-white to-blue-50">
    <!-- Header -->
    <header class="fixed top-0 left-0 right-0 z-50 bg-white/95 backdrop-blur-md shadow-soft transition-all duration-500">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16 lg:h-20">
                <!-- Logo -->
                <div class="flex-shrink-0">
                    <a href="preview.html" class="block">
                        <img src="asset/Logo.png" alt="DigitalNomadsTaiwan" class="h-8 lg:h-10 w-auto transition-transform duration-300 hover:scale-105">
                    </a>
                </div>

                <!-- Desktop Navigation -->
                <nav class="hidden lg:flex items-center space-x-8">
                    <a href="preview.html#hero" class="nav-link english-text" data-en="Home" data-zh="首頁">Home</a>
                    <a href="preview.html#about-us" class="nav-link english-text" data-en="About Us" data-zh="關於我們">About Us</a>
                    <a href="preview.html#event-highlight" class="nav-link english-text" data-en="Event" data-zh="活動">Event</a>
                    <a href="preview.html#roadmap" class="nav-link english-text" data-en="Road Map" data-zh="發展路線圖">Road Map</a>
                    <a href="join-us.html" class="nav-link english-text" data-en="Join Us" data-zh="加入我們">Join Us</a>
                    <a href="preview.html#footer" class="nav-link english-text" data-en="Contact" data-zh="聯絡我們">Contact</a>
                </nav>

                <!-- Language Switcher & Mobile Menu -->
                <div class="flex items-center space-x-4">
                    <button onclick="toggleLanguage()" class="flex items-center space-x-2 px-3 py-2 rounded-brand bg-neutral-100 hover:bg-neutral-200 transition-all duration-300 transform hover:scale-105">
                        <svg class="w-4 h-4 text-neutral-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 0a9 9 0 919-9m-9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9-3-9m-9 9a9 9 0 919-9"></path>
                        </svg>
                        <span class="text-sm font-medium text-neutral-700" id="lang-toggle">中文</span>
                    </button>

                    <button onclick="toggleMobileMenu()" class="lg:hidden p-2 rounded-brand bg-neutral-100 hover:bg-neutral-200 transition-all duration-300">
                        <svg id="menu-icon" class="w-6 h-6 text-neutral-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
                        </svg>
                        <svg id="close-icon" class="w-6 h-6 text-neutral-600 hidden" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                        </svg>
                    </button>
                </div>
            </div>
        </div>

        <!-- Mobile Menu -->
        <div id="mobile-menu" class="lg:hidden bg-white/95 backdrop-blur-md border-t border-neutral-200 shadow-soft hidden">
            <div class="max-w-7xl mx-auto px-4 py-6">
                <nav class="flex flex-col space-y-4">
                    <a href="preview.html#hero" class="text-left py-3 px-4 rounded-brand hover:bg-red-50 hover:text-brand-red transition-all duration-300 text-neutral-600 english-text" data-en="Home" data-zh="首頁" onclick="closeMobileMenu()">Home</a>
                    <a href="preview.html#about-us" class="text-left py-3 px-4 rounded-brand hover:bg-red-50 hover:text-brand-red transition-all duration-300 text-neutral-600 english-text" data-en="About Us" data-zh="關於我們" onclick="closeMobileMenu()">About Us</a>
                    <a href="preview.html#event-highlight" class="text-left py-3 px-4 rounded-brand hover:bg-red-50 hover:text-brand-red transition-all duration-300 text-neutral-600 english-text" data-en="Event" data-zh="活動" onclick="closeMobileMenu()">Event</a>
                    <a href="preview.html#roadmap" class="text-left py-3 px-4 rounded-brand hover:bg-red-50 hover:text-brand-red transition-all duration-300 text-neutral-600 english-text" data-en="Road Map" data-zh="發展路線圖" onclick="closeMobileMenu()">Road Map</a>
                    <a href="join-us.html" class="text-left py-3 px-4 rounded-brand hover:bg-red-50 hover:text-brand-red transition-all duration-300 text-neutral-600 english-text" data-en="Join Us" data-zh="加入我們" onclick="closeMobileMenu()">Join Us</a>
                    <a href="preview.html#footer" class="text-left py-3 px-4 rounded-brand hover:bg-red-50 hover:text-brand-red transition-all duration-300 text-neutral-600 english-text" data-en="Contact" data-zh="聯絡我們" onclick="closeMobileMenu()">Contact</a>
                </nav>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 pt-32 pb-8">
        <!-- Progress Indicator -->
        <div class="mb-8">
            <div class="flex items-center justify-center space-x-4">
                <div class="step-indicator step-active w-10 h-10 rounded-full flex items-center justify-center font-semibold">1</div>
                <div class="w-16 h-1 bg-gray-200"></div>
                <div class="step-indicator step-inactive w-10 h-10 rounded-full flex items-center justify-center font-semibold">2</div>
                <div class="w-16 h-1 bg-gray-200"></div>
                <div class="step-indicator step-inactive w-10 h-10 rounded-full flex items-center justify-center font-semibold">3</div>
                <div class="w-16 h-1 bg-gray-200"></div>
                <div class="step-indicator step-inactive w-10 h-10 rounded-full flex items-center justify-center font-semibold">4</div>
            </div>
            <div class="flex justify-between mt-2 text-sm text-gray-600">
                <span class="english-text">Personal Info</span>
                <span class="chinese-text hidden">個人資訊</span>
                <span class="english-text">Experience</span>
                <span class="chinese-text hidden">經驗技能</span>
                <span class="english-text">Preferences</span>
                <span class="chinese-text hidden">偏好設定</span>
                <span class="english-text">Review</span>
                <span class="chinese-text hidden">審核提交</span>
            </div>
        </div>

        <!-- Form Container -->
        <div class="bg-white rounded-lg shadow-lg p-8">
            <form id="applicationForm">
                <!-- Step 1: Personal Information -->
                <div id="step1" class="step-content">
                    <h2 class="text-2xl font-bold mb-6">
                        <span class="english-text">Personal Information</span>
                        <span class="chinese-text hidden">個人資訊</span>
                    </h2>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">
                                <span class="english-text">Full Name *</span>
                                <span class="chinese-text hidden">姓名 *</span>
                            </label>
                            <input type="text" id="fullName" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent">
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">
                                <span class="english-text">Email *</span>
                                <span class="chinese-text hidden">電子郵件 *</span>
                            </label>
                            <input type="email" id="email" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent">
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">
                                <span class="english-text">Phone Number *</span>
                                <span class="chinese-text hidden">電話號碼 *</span>
                            </label>
                            <input type="tel" id="phone" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent">
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">
                                <span class="english-text">Current Location *</span>
                                <span class="chinese-text hidden">目前所在地 *</span>
                            </label>
                            <input type="text" id="location" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent">
                        </div>
                    </div>
                    
                    <div class="mt-6">
                        <label class="block text-sm font-medium text-gray-700 mb-2">
                            <span class="english-text">LinkedIn Profile</span>
                            <span class="chinese-text hidden">LinkedIn 個人檔案</span>
                        </label>
                        <input type="url" id="linkedin" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent">
                    </div>
                </div>

                <!-- Step 2: Experience & Skills -->
                <div id="step2" class="step-content" style="display: none;">
                    <h2 class="text-2xl font-bold mb-6 english-text">Experience & Skills</h2>
                    
                    <div class="space-y-6">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2 english-text">Position Applying For *</label>
                            <select id="position" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent">
                                <option value="">Select a position</option>
                                <option value="community-manager">Community Manager</option>
                                <option value="content-creator">Content Creator</option>
                                <option value="event-coordinator">Event Coordinator</option>
                                <option value="marketing-specialist">Marketing Specialist</option>
                                <option value="partnership-manager">Partnership Manager</option>
                                <option value="tech-lead">Tech Lead</option>
                            </select>
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2 english-text">Years of Experience *</label>
                            <select id="experience" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent">
                                <option value="">Select experience level</option>
                                <option value="0-1">0-1 years</option>
                                <option value="2-3">2-3 years</option>
                                <option value="4-5">4-5 years</option>
                                <option value="6-10">6-10 years</option>
                                <option value="10+">10+ years</option>
                            </select>
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2 english-text">Key Skills *</label>
                            <div class="grid grid-cols-2 md:grid-cols-3 gap-3">
                                <label class="flex items-center">
                                    <input type="checkbox" name="skills" value="project-management" class="mr-2">
                                    <span class="english-text">Project Management</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="checkbox" name="skills" value="social-media" class="mr-2">
                                    <span class="english-text">Social Media</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="checkbox" name="skills" value="content-writing" class="mr-2">
                                    <span class="english-text">Content Writing</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="checkbox" name="skills" value="event-planning" class="mr-2">
                                    <span class="english-text">Event Planning</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="checkbox" name="skills" value="marketing" class="mr-2">
                                    <span class="english-text">Marketing</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="checkbox" name="skills" value="design" class="mr-2">
                                    <span class="english-text">Design</span>
                                </label>
                            </div>
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2 english-text">Languages *</label>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                <div>
                                    <label class="block text-sm text-gray-600 mb-1 english-text">English Level</label>
                                    <select id="englishLevel" required class="w-full px-4 py-2 border border-gray-300 rounded-lg">
                                        <option value="">Select level</option>
                                        <option value="basic">Basic</option>
                                        <option value="intermediate">Intermediate</option>
                                        <option value="advanced">Advanced</option>
                                        <option value="native">Native</option>
                                    </select>
                                </div>
                                <div>
                                    <label class="block text-sm text-gray-600 mb-1 english-text">Chinese Level</label>
                                    <select id="chineseLevel" required class="w-full px-4 py-2 border border-gray-300 rounded-lg">
                                        <option value="">Select level</option>
                                        <option value="basic">Basic</option>
                                        <option value="intermediate">Intermediate</option>
                                        <option value="advanced">Advanced</option>
                                        <option value="native">Native</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2 english-text">Resume/CV Upload</label>
                            <div class="border-2 border-dashed border-gray-300 rounded-lg p-6 text-center">
                                <input type="file" id="resume" accept=".pdf,.doc,.docx" class="hidden">
                                <label for="resume" class="cursor-pointer">
                                    <i class="fas fa-cloud-upload-alt text-3xl text-gray-400 mb-2"></i>
                                    <p class="text-gray-600 english-text">Click to upload or drag and drop</p>
                                    <p class="text-sm text-gray-500 english-text">PDF, DOC, DOCX (max 5MB)</p>
                                </label>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Step 3: Preferences -->
                <div id="step3" class="step-content" style="display: none;">
                    <h2 class="text-2xl font-bold mb-6 english-text">Preferences & Availability</h2>
                    
                    <div class="space-y-6">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2 english-text">Preferred Work Type *</label>
                            <div class="space-y-2">
                                <label class="flex items-center">
                                    <input type="radio" name="workType" value="remote" required class="mr-2">
                                    <span class="english-text">Remote</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="radio" name="workType" value="hybrid" required class="mr-2">
                                    <span class="english-text">Hybrid</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="radio" name="workType" value="onsite" required class="mr-2">
                                    <span class="english-text">On-site</span>
                                </label>
                            </div>
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2 english-text">Availability *</label>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                <div>
                                    <label class="block text-sm text-gray-600 mb-1 english-text">Start Date</label>
                                    <input type="date" id="startDate" required class="w-full px-4 py-2 border border-gray-300 rounded-lg">
                                </div>
                                <div>
                                    <label class="block text-sm text-gray-600 mb-1 english-text">Hours per Week</label>
                                    <select id="hoursPerWeek" required class="w-full px-4 py-2 border border-gray-300 rounded-lg">
                                        <option value="">Select hours</option>
                                        <option value="10-20">10-20 hours</option>
                                        <option value="20-30">20-30 hours</option>
                                        <option value="30-40">30-40 hours</option>
                                        <option value="40+">40+ hours</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2 english-text">Salary Expectations</label>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                <div>
                                    <label class="block text-sm text-gray-600 mb-1 english-text">Currency</label>
                                    <select id="currency" class="w-full px-4 py-2 border border-gray-300 rounded-lg">
                                        <option value="TWD">TWD</option>
                                        <option value="USD">USD</option>
                                        <option value="EUR">EUR</option>
                                    </select>
                                </div>
                                <div>
                                    <label class="block text-sm text-gray-600 mb-1 english-text">Amount (per month)</label>
                                    <input type="number" id="salary" class="w-full px-4 py-2 border border-gray-300 rounded-lg">
                                </div>
                            </div>
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2 english-text">Why do you want to join DigitalNomadsTaiwan? *</label>
                            <textarea id="motivation" required rows="4" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent" placeholder="Tell us about your motivation and what you hope to contribute..."></textarea>
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2 english-text">Additional Information</label>
                            <textarea id="additional" rows="3" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent" placeholder="Any additional information you'd like to share..."></textarea>
                        </div>
                    </div>
                </div>

                <!-- Step 4: Review & Submit -->
                <div id="step4" class="step-content" style="display: none;">
                    <h2 class="text-2xl font-bold mb-6 english-text">Review & Submit</h2>
                    
                    <div class="space-y-6">
                        <div class="bg-gray-50 rounded-lg p-6">
                            <h3 class="text-lg font-semibold mb-4 english-text">Application Summary</h3>
                            <div id="reviewContent" class="space-y-3">
                                <!-- Content will be populated by JavaScript -->
                            </div>
                        </div>
                        
                        <div class="border-t pt-6">
                            <div class="flex items-start">
                                <input type="checkbox" id="terms" required class="mt-1 mr-3">
                                <label for="terms" class="text-sm text-gray-700 english-text">
                                    I agree to the <a href="#" class="text-red-600 hover:underline">Terms of Service</a> and 
                                    <a href="#" class="text-red-600 hover:underline">Privacy Policy</a>. I understand that my 
                                    application will be reviewed and I may be contacted for further information.
                                </label>
                            </div>
                        </div>
                        
                        <div class="bg-blue-50 border border-blue-200 rounded-lg p-4">
                            <div class="flex items-center">
                                <i class="fas fa-info-circle text-blue-500 mr-2"></i>
                                <p class="text-sm text-blue-700 english-text">
                                    After submission, you'll receive a confirmation email. Our team will review your application 
                                    and get back to you within 5-7 business days.
                                </p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Navigation Buttons -->
                <div class="flex justify-between mt-8">
                    <button type="button" id="prevBtn" class="px-6 py-3 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 transition-colors hidden">Previous</button>
                    <button type="button" id="nextBtn" class="px-6 py-3 brand-red-bg text-white rounded-lg hover:bg-red-700 transition-colors ml-auto">Next</button>
                </div>
            </form>
        </div>
    </main>

    <script>
        let currentStep = 1;
        let isEnglish = true;

        function toggleLanguage() {
            isEnglish = !isEnglish;
            const elements = document.querySelectorAll('[data-en][data-zh]');
            const langToggle = document.getElementById('lang-toggle');
            
            elements.forEach(element => {
                if (isEnglish) {
                    element.textContent = element.getAttribute('data-en');
                } else {
                    element.textContent = element.getAttribute('data-zh');
                }
            });
            
            // Handle english-text and chinese-text span elements
            const englishTexts = document.querySelectorAll('.english-text');
            const chineseTexts = document.querySelectorAll('.chinese-text');
            
            if (isEnglish) {
                englishTexts.forEach(element => {
                    element.classList.remove('hidden');
                });
                chineseTexts.forEach(element => {
                    element.classList.add('hidden');
                });
            } else {
                englishTexts.forEach(element => {
                    element.classList.add('hidden');
                });
                chineseTexts.forEach(element => {
                    element.classList.remove('hidden');
                });
            }
            
            if (langToggle) {
                langToggle.textContent = isEnglish ? '中文' : 'EN';
            }
        }

        function toggleMobileMenu() {
            const mobileMenu = document.getElementById('mobile-menu');
            const menuIcon = document.getElementById('menu-icon');
            const closeIcon = document.getElementById('close-icon');
            
            if (mobileMenu.classList.contains('hidden')) {
                mobileMenu.classList.remove('hidden');
                menuIcon.classList.add('hidden');
                closeIcon.classList.remove('hidden');
            } else {
                mobileMenu.classList.add('hidden');
                menuIcon.classList.remove('hidden');
                closeIcon.classList.add('hidden');
            }
        }

        function closeMobileMenu() {
            const mobileMenu = document.getElementById('mobile-menu');
            const menuIcon = document.getElementById('menu-icon');
            const closeIcon = document.getElementById('close-icon');
            
            mobileMenu.classList.add('hidden');
            menuIcon.classList.remove('hidden');
            closeIcon.classList.add('hidden');
        }

        // Form navigation
        document.getElementById('nextBtn').addEventListener('click', function() {
            if (validateCurrentStep()) {
                if (currentStep < 4) {
                    currentStep++;
                    updateStep();
                    if (currentStep === 4) {
                        generateReviewContent();
                    }
                } else {
                    submitApplication();
                }
            }
        });

        document.getElementById('prevBtn').addEventListener('click', function() {
            if (currentStep > 1) {
                currentStep--;
                updateStep();
            }
        });

        function validateCurrentStep() {
            const currentStepElement = document.getElementById(`step${currentStep}`);
            const requiredFields = currentStepElement.querySelectorAll('[required]');
            let isValid = true;

            requiredFields.forEach(field => {
                if (field.type === 'checkbox' && field.name === 'skills') {
                    const checkedSkills = currentStepElement.querySelectorAll('input[name="skills"]:checked');
                    if (checkedSkills.length === 0) {
                        isValid = false;
                        // Highlight skills section
                        field.closest('.grid').classList.add('border-red-500');
                    } else {
                        field.closest('.grid').classList.remove('border-red-500');
                    }
                } else if (field.type === 'radio') {
                    const radioGroup = currentStepElement.querySelectorAll(`input[name="${field.name}"]`);
                    const isChecked = Array.from(radioGroup).some(radio => radio.checked);
                    if (!isChecked) {
                        isValid = false;
                        radioGroup.forEach(radio => {
                            radio.closest('.space-y-2').classList.add('border-red-500');
                        });
                    } else {
                        radioGroup.forEach(radio => {
                            radio.closest('.space-y-2').classList.remove('border-red-500');
                        });
                    }
                } else if (!field.value.trim()) {
                    field.classList.add('border-red-500');
                    isValid = false;
                } else {
                    field.classList.remove('border-red-500');
                }
            });

            return isValid;
        }

        function generateReviewContent() {
            const reviewContent = document.getElementById('reviewContent');
            const formData = new FormData(document.getElementById('applicationForm'));
            
            // Get form values
            const fullName = document.getElementById('fullName').value;
            const email = document.getElementById('email').value;
            const phone = document.getElementById('phone').value;
            const location = document.getElementById('location').value;
            const position = document.getElementById('position').value;
            const experience = document.getElementById('experience').value;
            const workType = document.querySelector('input[name="workType"]:checked')?.value;
            const startDate = document.getElementById('startDate').value;
            const hoursPerWeek = document.getElementById('hoursPerWeek').value;
            const motivation = document.getElementById('motivation').value;
            
            // Get selected skills
            const selectedSkills = Array.from(document.querySelectorAll('input[name="skills"]:checked'))
                .map(skill => skill.value);

            reviewContent.innerHTML = `
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div>
                        <strong class="english-text">Name:</strong> ${fullName}
                    </div>
                    <div>
                        <strong class="english-text">Email:</strong> ${email}
                    </div>
                    <div>
                        <strong class="english-text">Phone:</strong> ${phone}
                    </div>
                    <div>
                        <strong class="english-text">Location:</strong> ${location}
                    </div>
                    <div>
                        <strong class="english-text">Position:</strong> ${position}
                    </div>
                    <div>
                        <strong class="english-text">Experience:</strong> ${experience}
                    </div>
                    <div>
                        <strong class="english-text">Work Type:</strong> ${workType}
                    </div>
                    <div>
                        <strong class="english-text">Start Date:</strong> ${startDate}
                    </div>
                    <div>
                        <strong class="english-text">Hours/Week:</strong> ${hoursPerWeek}
                    </div>
                    <div class="md:col-span-2">
                        <strong class="english-text">Skills:</strong> ${selectedSkills.join(', ')}
                    </div>
                    <div class="md:col-span-2">
                        <strong class="english-text">Motivation:</strong> ${motivation}
                    </div>
                </div>
            `;
        }

        function submitApplication() {
            if (!document.getElementById('terms').checked) {
                alert('Please accept the terms and conditions');
                return;
            }

            // Show loading state
            const submitBtn = document.getElementById('nextBtn');
            const originalText = submitBtn.textContent;
            submitBtn.textContent = 'Submitting...';
            submitBtn.disabled = true;

            // Simulate form submission
            setTimeout(() => {
                alert('Application submitted successfully! You will receive a confirmation email shortly.');
                
                // Reset form or redirect
                submitBtn.textContent = originalText;
                submitBtn.disabled = false;
                
                // You can add actual form submission logic here
                // For example: fetch('/api/submit-application', { method: 'POST', body: formData })
            }, 2000);
        }

        function updateStep() {
            // Hide all steps
            for (let i = 1; i <= 4; i++) {
                const step = document.getElementById(`step${i}`);
                if (step) step.style.display = 'none';
            }

            // Show current step
            const currentStepElement = document.getElementById(`step${currentStep}`);
            if (currentStepElement) currentStepElement.style.display = 'block';

            // Update progress indicators
            updateProgressIndicators();

            // Update navigation buttons
            updateNavigationButtons();
        }

        function updateProgressIndicators() {
            for (let i = 1; i <= 4; i++) {
                const indicator = document.querySelector(`[data-step="${i}"]`);
                if (indicator) {
                    if (i < currentStep) {
                        indicator.classList.add('bg-green-500', 'text-white');
                        indicator.classList.remove('bg-gray-300', 'text-gray-600', 'brand-red-bg');
                    } else if (i === currentStep) {
                        indicator.classList.add('brand-red-bg', 'text-white');
                        indicator.classList.remove('bg-gray-300', 'text-gray-600', 'bg-green-500');
                    } else {
                        indicator.classList.add('bg-gray-300', 'text-gray-600');
                        indicator.classList.remove('brand-red-bg', 'text-white', 'bg-green-500');
                    }
                }
            }
        }

        function updateNavigationButtons() {
            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');

            if (currentStep === 1) {
                prevBtn.classList.add('hidden');
            } else {
                prevBtn.classList.remove('hidden');
            }

            if (currentStep === 4) {
                nextBtn.textContent = 'Submit Application';
            } else {
                nextBtn.textContent = 'Next';
            }
        }

        // File upload handling
        document.getElementById('resume').addEventListener('change', function(e) {
            const file = e.target.files[0];
            if (file) {
                const label = e.target.nextElementSibling;
                label.innerHTML = `
                    <i class="fas fa-file-alt text-3xl text-green-500 mb-2"></i>
                    <p class="text-green-600 english-text">${file.name}</p>
                    <p class="text-sm text-gray-500 english-text">Click to change file</p>
                `;
            }
        });

        // Initialize form
        document.addEventListener('DOMContentLoaded', function() {
            updateStep();
        });
    </script>
</body>
</html> 